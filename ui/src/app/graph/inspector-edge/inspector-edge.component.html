<div>
  @let localTargetVertex = targetVertex();
  @let localSourceVertex = sourceVertex();
  <h3 class="edge-heading">Source@if (edge() && localSourceVertex && configRecord) {
    - {{configRecord[localSourceVertex.collection].name}}
  }</h3>
  <div class="wrapper vertex-edge-type-container">
    <div class="fields-wrapper">
      <mat-chip-listbox [selectable]="false">
        <mat-chip-option (click)="vertexSelected.emit(localSourceVertex.id)">
          <app-vertex-name [vertex]="localSourceVertex"></app-vertex-name>
        </mat-chip-option>
      </mat-chip-listbox>
    </div>
    <div class="fields-wrapper">
      @if (localSourceVertex) {
        <button
          mat-icon-button
          class="copy-id"
          aria-label="Copy Id"
          [cdkCopyToClipboard]="localSourceVertex.id">
          <mat-icon>content_copy</mat-icon>
        </button>
      }
    </div>
  </div>
  <h3 class="edge-heading">Target@if (edge() && localTargetVertex && configRecord) {
    - {{configRecord[localTargetVertex.collection].name}}
  }</h3>
  <div class="wrapper vertex-edge-type-container">
    <div class="fields-wrapper">
      <mat-chip-listbox [selectable]="false">
        <mat-chip-option (click)="vertexSelected.emit(localTargetVertex.id)">
          <app-vertex-name [vertex]="localTargetVertex"></app-vertex-name>
        </mat-chip-option>
      </mat-chip-listbox>
    </div>
    <div class="fields-wrapper">
      @if (localTargetVertex) {
        <button mat-icon-button class="copy-id" aria-label="Copy Id" [cdkCopyToClipboard]="localTargetVertex.id">
          <mat-icon>content_copy</mat-icon>
        </button>
      }
    </div>
  </div>

  @if (edge().restrict) {
    <div
      class="wrapper-graphlookups vertex-edge-type-container"
      matTooltip="Not followed in graph lookups"
      matTooltipShowDelay="500">
      <mat-icon>link_off</mat-icon>
      <div>Restricted graph traversal</div>
    </div>
  }
</div>